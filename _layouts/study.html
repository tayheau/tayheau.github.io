<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-okaidia.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&display=swap');

        * {
            margin: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "IBM Plex Mono", monospace;
            font-weight: 400;
            font-style: normal;
            color: white;
            background-color: #161617;
            display: flex;
            margin: 0;
        }

        #container {
            display: flex;
            justify-content: space-between;
            width: 90%;
            margin: 5em auto;
        }

        #content {
            width: 70%;
        }

        #toc {
            width: 25%;
            position: sticky;
            top: 2em;
            padding: 1em;
            background-color: #1e1e1e;
            border: 1px solid #333;
            border-radius: 8px;
            overflow-y: auto;
            max-height: calc(100vh - 4em);
        }

        h1, h2, h3 {
            margin-bottom: 20px;
        }

        a {
            text-decoration: none;
            color: rgb(174, 174, 174);
        }

        a:hover {
            color: rgb(100, 100, 100);
        }

        .post-meta {
            color: gray;
        }

        .content {
            white-space: pre-line;
        }

        #toc a {
            display: block;
            padding: 0.5em 0;
            color: #9a9a9a;
        }

        #toc a:hover {
            color: white;
            font-weight: bold;
        }

        #toc strong {
            display: block;
            margin-bottom: 1em;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="content">
            <a href="/logs.html">< previous</a>
            <h2>{{ page.title }}</h2>
            <div class="post-meta">
                <span>{{ page.date | date: "%B %-d, %Y" }}</span>
            </div>
            <div class="content">
                {{ content }}
            </div>
        </div>
        <div id="toc">
            <strong>Table of Contents</strong>
            <div>
                <!-- Automatically generated ToC will appear here -->
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark'
        });
    </script>
    <script>
        MathJax = {
          tex: {
            inlineMath: [['\\(', '\\)']]
          }
        };

        // Generate Table of Contents
        document.addEventListener("DOMContentLoaded", () => {
            const toc = document.querySelector("#toc div");
            const headers = document.querySelectorAll("#content h1, #content h2, #content h3");
            headers.forEach(header => {
                const link = document.createElement("a");
                link.href = `#${header.id}`;
                link.textContent = header.textContent;
                toc.appendChild(link);
                toc.appendChild(document.createElement("br"));
            });
        });
    </script>
</body>
</html>
